{\hyphenpenalty=400

\Tutorial	Необхідно дістатися з точки $(r_1, c_1)$ у~точку $(r_2, c_2)$ по <<зацикленому>> простору. 
Скориставшися відомим принципом незалежності переміщень, можна побачити, що переміщення в горизонтальному і вертикальному напрямках не~залежать одне від одного. Зрозуміти це можна, розглядаючи переміщення як перетин вертикальних і горизонтальних сторін клітинки. Не~залежно від траєкторії необхідно перетнути лише певну конкретну кількість вертикальних ліній (позначимо цю кількість~$\Delta{}r$) і горизонтальних ліній (відповідно~$\Delta{}c$). (Звісно, маючи на\nolinebreak[3] увазі, що ми не\nolinebreak[3] розглядаємо відверто не\nolinebreak[3] мінімальні шляхи, де одна й та ж горизонтальна чи вертикальна лінія перетинається багатократно.) Тоді відповідь на задачу є ${\Delta{}r+\Delta{}c}$, оскільки для зміни будь якої з координат на~1 необхідно затратити 1~секунду.

Є 2 способи переміститися з рядка $r_1$ у~$r_2$\nolinebreak[3] --- перетинаючи край початкового (до згинів і склеювань) прямокутника і не~перетинаючи. Вважаємо спочатку, що ${r_1{<}r_2}$. Тоді не~перетинаючи край витратимо ${(r_2{-}r_1)}$\nolinebreak[2] сек, а~перетинаючи спочатку доберемося до рядка~1 (${(r_1{-}1)}$\nolinebreak[2] сек),  потім до\nolinebreak[1] рядка~$n$ (1~сек), і\nolinebreak[2] з\nolinebreak[2] нього у\nolinebreak[3] $r_2$\nolinebreak[3] --- (${(n{-}r2)}$\nolinebreak[2] сек). Сумарно ${(r_1{-}r_2{+}n)}$\nolinebreak[2] сек. 
Тобто, треба вибрати мінімум зі значень ${(r_2{-}r_1)}$ (не~перетинаючи край) і\nolinebreak[3] ${(r_1{-}r_2{+}n)}$ (через\nolinebreak[3] край). Але це лише для випадку ${r_1{<}r_2}$, а\nolinebreak[3] при ${r_1{>}r_2}$ аналогічними міркуваннями отримуються схожі, але інші формули ${(r_1{-}r_2)}$ і\nolinebreak[3] ${(r_2{-}r_1{+}n)}$. Щоб\nolinebreak[2] не\nolinebreak[2] задумуватися, яка з\nolinebreak[3] координат більша, можна використати формулу
$$
\Delta{}r \, = \, \min\bigl((r1-r2+n) \bmod n, (r2-r1+n) \bmod n\bigr)
$$
З~$\Delta{}c$ слід вчинити аналогічно, потім додати ${\Delta{}r+\Delta{}c}$.

}