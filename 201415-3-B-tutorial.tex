\Tutorial	{
Цю задачу важко вирішити на повні бали шляхом аналізу випадків.
Просто тому, що їх більше, ніж може здатися. Навіть якщо не~розглядати випадки рівності деяких із координат (як-то <<не~розглядати окремо ситуацію \verb"xmin1==xmax2", а об'єднати з ситуацією \verb"xmin1>xmax2", написавши \verb"xmin1>=xmax2">>), все одно лишаються такі потенційно різні випадки:
\def\LLL#1#2{\rhatch\rect{#1,#2}
\rect{#1,#2}}%
\def\RRR#1#2{\lhatch\rect{#1,#2}
\rect{#1,#2}}%
\def\wholeCase#1#2#3#4#5#6#7#8{%
\begin{mfpic}[8.5]{-0.125}{3.125}{-0.125}{3.125}
\rect{(-0.125,-0.125),(3.125,3.125)}
\pen{2pt}
\LLL{(#1,#5)}{(#2,#6)}
\RRR{(#3,#7)}{(#4,#8)}
\end{mfpic}}
\begin{longtable}{cccccccccccc}%
\wholeCase{0}{1}{2}{3}{0}{1}{2}{3}      &
\wholeCase{0}{1}{2}{3}{0}{2}{1}{3}      &
\wholeCase{0}{1}{2}{3}{0}{3}{1}{2}      &
\wholeCase{0}{1}{2}{3}{1}{2}{0}{3}      &
\wholeCase{0}{1}{2}{3}{1}{3}{0}{2}      &
\wholeCase{0}{1}{2}{3}{2}{3}{0}{1}
& %\\
\wholeCase{0}{2}{1}{3}{0}{1}{2}{3}      &
\wholeCase{0}{2}{1}{3}{0}{2}{1}{3}      &
\wholeCase{0}{2}{1}{3}{0}{3}{1}{2}      &
\wholeCase{0}{2}{1}{3}{1}{2}{0}{3}      &
\wholeCase{0}{2}{1}{3}{1}{3}{0}{2}      &
\wholeCase{0}{2}{1}{3}{2}{3}{0}{1}
\\
\wholeCase{0}{3}{1}{2}{0}{1}{2}{3}      &
\wholeCase{0}{3}{1}{2}{0}{2}{1}{3}      &
\wholeCase{0}{3}{1}{2}{0}{3}{1}{2}      &
\wholeCase{0}{3}{1}{2}{1}{2}{0}{3}      &
\wholeCase{0}{3}{1}{2}{1}{3}{0}{2}      &
\wholeCase{0}{3}{1}{2}{2}{3}{0}{1}
& %\\
\wholeCase{1}{2}{0}{3}{0}{1}{2}{3}      &
\wholeCase{1}{2}{0}{3}{0}{2}{1}{3}      &
\wholeCase{1}{2}{0}{3}{0}{3}{1}{2}      &
\wholeCase{1}{2}{0}{3}{1}{2}{0}{3}      &
\wholeCase{1}{2}{0}{3}{1}{3}{0}{2}      &
\wholeCase{1}{2}{0}{3}{2}{3}{0}{1}
\\
\wholeCase{1}{3}{0}{2}{0}{1}{2}{3}      &
\wholeCase{1}{3}{0}{2}{0}{2}{1}{3}      &
\wholeCase{1}{3}{0}{2}{0}{3}{1}{2}      &
\wholeCase{1}{3}{0}{2}{1}{2}{0}{3}      &
\wholeCase{1}{3}{0}{2}{1}{3}{0}{2}      &
\wholeCase{1}{3}{0}{2}{2}{3}{0}{1}
& %\\
\wholeCase{2}{3}{0}{1}{0}{1}{2}{3}      &
\wholeCase{2}{3}{0}{1}{0}{2}{1}{3}      &
\wholeCase{2}{3}{0}{1}{0}{3}{1}{2}      &
\wholeCase{2}{3}{0}{1}{1}{2}{0}{3}      &
\wholeCase{2}{3}{0}{1}{1}{3}{0}{2}      &
\wholeCase{2}{3}{0}{1}{2}{3}{0}{1}
\end{longtable}

Випадки, коли прямокутники повністю обміняні місцями, наведено як різні, бо якщо іти шляхом аналізу випадків, виводячи для кожного свою формулу залежності результату від вхідних даних, вони можуть бути різними.

Звісно, деякі з цих випадків можна об'єднати.
Але не~так просто зробити це правильно, ніде не~помил\'{и}тися.
Тому пропонується розв'язати задачу інакше.

}

\MyParagraph{1-й спосіб, придатний для довільних координат}
Площа % шуканого 
об’єднання дорівнює сумі площ окремо взятих 
прямокутників 
% фігур 
мінус міра перетину (спільної частини); якщо спільної частини нема, площею перетину вважається~0.
% (До речі, це 
(Це\nolinebreak[3] міркування є част\-ко\-вим випадком \emph{принципу включень та виключень},
\verb"https://uk.wikipedia.org/wiki/Формула_включень-виключень").

Щоб знайти перетин, можна (окремо для~$x$, окремо для~$y$) узяти максимін (максимум із мінімумів) і мінімакс (мінімум із максимумів). Наприклад:

\begin{tabular}{@{}c@{}c@{}}
\raisebox{-28pt}{\begin{mfpic}[12]{-2.3}{4.9}{-0.3}{4.9}
\axes
\dotted\lines{(-1,-0.1),(-1,4.1)}
\dotted\lines{(-2,-0.1),(-2,4.1)}
\dotted\lines{( 1,-0.1),( 1,4.1)}
\dotted\lines{( 2,-0.1),( 2,4.1)}
\dotted\lines{( 3,-0.1),( 3,4.1)}
\dotted\lines{( 4,-0.1),( 4,4.1)}
\dotted\lines{(-2.1, 1),(4.1, 1)}
\dotted\lines{(-2.1, 2),(4.1, 2)}
\dotted\lines{(-2.1, 3),(4.1, 3)}
\dotted\lines{(-2.1, 4),(4.1, 4)}
\rhatch\polygon{(0,0),(4,0),(4,3),(1,3),(1,4),(-2,4),(-2,2),(0,2)}
\arrow\lines{(-2.25,1),(0,2)}
\arrow\lines{(-2.25,3.5),(0,3)}
\arrow\lines{(-2,5),(0,3)}
\arrow\lines{(2,5.5),(1,3)}
\tlabel[tr](-2.25,1){$\max(y_{\min1}, y_{\min2})$} %%%максимiн iгрекiв\\
\tlabel[cr](-2.25,3.5){$\min(y_{\max1}, y_{\max2})$} %%%мiнiмакс iгрекiв\\
\tlabel[br](-2,5){$\max(x_{\min1}, x_{\min2})$} %%%максимiн iксiв\\
\tlabel[bc](2.25,5.5){$\min(x_{\max1}, x_{\max2})$} %%%мiнiмакс iксiв\\
\pen{2pt}
\rect{(0,0),(4,3)}
\rect{(-2,2),(1,4)}
\end{mfpic}}
&
$
\begin{array}{@{}r@{\,=\,}c@{\,=\,}r@{,\,}l@{\,=\,}l}
\textnormal{максимін~}x & \max(x_{\min1}, x_{\min2}) & \max(0 & -2) & 0;\\
\textnormal{мінімакс~}x & \min(x_{\max1}, x_{\max2}) & \min(4 &  1) & 1;\\
\textnormal{максимін~}y & \max(y_{\min1}, y_{\min2}) & \max(0 &  2) & 2;\\
\textnormal{мінімакс~}y & \min(y_{\max1}, y_{\max2}) & \min(3 &  4) & 3.
\end{array}
$
\end{tabular}

\underline{\emph{Якщо}} \emph{в~обох випадках} ($x$~та~$y$) максимін строго менший мінімакса, то площа перетину ненульова і її справді треба відняти. 

Приклад реалізації цього способу: \verb"ideone.com/naDNCA"


\MyParagraph{2-й спосіб, менш універсальний, але тут і зараз теж правильний}
В~умові задано досить невеликі (як для комп’ютера) обмеження на значення координат. Це дає можливість тупо перебрати всі <<клітинки>> і для кожної з них перевірити, чи~належить вона \mbox{1-му} прямокутнику та чи належить \mbox{2-му}. Важливо, що завдяки використанню операції \texttt{or} (\mbox{С-подіб}\-ними мовами~\verb"||") можна не~розбиратися з~випадками, бо абсолютно\nolinebreak[2] не\nolinebreak[3] важливо, чи~мають прямокутники непорожній перетин, чи~не~мають.

Приклад реалізації цього способу: \verb"ideone.com/BHOtpE"\hspace{1em plus 2em}
Код навіть коротший і простіший, ніж для першого способу. Але якби значення координат були не від $-1000$ до $+1000$, а~довільні (наприклад, дозволялися дробові), цей спосіб був~би принципово неможливим; якби координати були цілими, але з більшого діапазону\nolinebreak[3] --- програма працювала~б надто довго. Власне, вона і зараз працює довше, ніж \mbox{1-й}\nolinebreak[3] спосіб; але при цьому вкладається в обмеження. % по~часу.
